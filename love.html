<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Love You ‚ù§Ô∏è</title>
<style>
  /* --- Body & Background --- */
  body{
    margin:0;
    min-height:100vh;
    background: linear-gradient(-45deg,#ff758c,#ff7eb3,#ff9a9e,#fad0c4);
    background-size:400% 400%;
    animation: gradientMove 12s ease infinite;
    font-family:'Segoe UI',sans-serif;
    color:white;
    overflow-x:hidden;
    display:flex;
    justify-content:center;
    align-items:flex-start;
  }

  @keyframes gradientMove{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }

  /* --- Floating Hearts --- */
  .heart{
    position:absolute;
    font-size:22px;
    animation:float 6s linear infinite;
  }
  @keyframes float{
    0%{transform:translateY(100vh);opacity:0}
    10%{opacity:1}
    100%{transform:translateY(-10vh);opacity:0}
  }

  /* --- Envelope --- */
  #envelope{
    position:fixed;
    top:30px;
    left:50%;
    transform:translateX(-50%);
    font-size:65px;
    cursor:pointer;
    animation:pulse 1.5s infinite;
    z-index:1000;
  }
  @keyframes pulse{
    0%{transform:translateX(-50%) scale(1);}
    50%{transform:translateX(-50%) scale(1.2);}
    100%{transform:translateX(-50%) scale(1);}
  }

  /* --- Typewriter Text --- */
  #content{
    display:none;
    max-width:900px;
    margin:140px auto 60px;
    padding:20px;
    text-align:center;
    white-space: pre-line; /* Keep line breaks */
    font-size:1.2em;
    line-height:1.7;
  }

  /* --- Carousel --- */
  .carousel-container{
    display:none;
    margin:30px auto;
    overflow:hidden;
    max-width:1000px;
    position:relative;
  }
  .carousel-track{
    display:flex;
    gap:15px;
    transition: transform 0.6s ease;
  }
  .carousel-track img{
    flex: 0 0 auto;
    aspect-ratio:9/16;
    width: 200px; /* default width, will adjust via JS for responsive */
    object-fit:cover;
    border-radius:22px;
    opacity:0;
    transform:translateY(30px);
    transition: opacity 0.8s ease, transform 0.8s ease;
  }
  .carousel-track img.active{
    opacity:1;
    transform:translateY(0);
  }

  /* --- Responsive --- */
  @media (max-width: 768px){
    .carousel-track img{
      width: 150px;
    }
  }
  @media (max-width: 480px){
    .carousel-track img{
      width: 120px;
    }
  }
</style>
</head>

<body>

<!-- Music -->
<audio id="bgMusic" loop muted>
  <source src="romantic.mp3" type="audio/mpeg">
</audio>

<!-- Floating hearts will be added via JS -->

<!-- üíå Envelope -->
<div id="envelope">üíå</div>

<!-- Typewriter text -->
<div id="content">
Hey Ammaduu‚ù§Ô∏è
  
On 22nd June 2022-
The first time I saw you on your birthday, in that purple dress. 
That was the day I fell in love with you üíú

Every moment with you makes me happy.

When I'm sad or happy, you're the one I want to share everything

Through all 4 years of BTech and still, I loved you quietlyü´£.

But after you went to the abroad, I started missing you a lot,
and even our calls and messages became less

On this Valentine's Day, you said yes to meüíò

Love You Ammaduuüòò
</div>

<!-- Carousel -->
<div class="carousel-container">
  <div class="carousel-track" id="carouselTrack">
    <!-- 30 photos -->
    <img src="pic1.jpg">
    <img src="pic2.jpg">
    <img src="pic3.jpg">
    <img src="pic4.jpg">
    <img src="pic5.jpg">
    <img src="pic6.jpg">
    <img src="pic7.jpg">
    <img src="pic8.jpg">
    <img src="pic9.jpg">
    <img src="pic10.jpg">
    <img src="pic11.jpg">
    <img src="pic12.jpg">
    <img src="pic13.jpg">
    <img src="pic14.jpg">
    <img src="pic15.jpg">
    <img src="pic16.jpg">
    <img src="pic17.jpg">
    <img src="pic18.jpg">
    <img src="pic19.jpg">
    <img src="pic20.jpg">
    <img src="pic21.jpg">
    <img src="pic22.jpg">
    <img src="pic23.jpg">
    <img src="pic24.jpg">
    <img src="pic25.jpg">
    <img src="pic26.jpg">
    <img src="pic27.jpg">
    <img src="pic28.jpg">
    <img src="pic29.jpg">
    <img src="pic30.jpg">
  </div>
</div>

<script>
/* ---------- Floating hearts ---------- */
function heart(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="üíñ";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
}
setInterval(heart,300);

/* ---------- Music & Typewriter ---------- */
const envelope = document.getElementById("envelope");
const content = document.getElementById("content");
const music = document.getElementById("bgMusic");

envelope.addEventListener("click", function(){
  envelope.style.display="none";
  
  // Start music
  music.muted=false;
  music.play();

  // Show typewriter
  content.style.display="block";
  typeWriter(content, 0, function(){
    // After text completes, show carousel
    document.querySelector(".carousel-container").style.display="block";
    startCarousel();
  });
});

/* ---------- Typewriter function ---------- */
function typeWriter(element, index, callback){
  const text = element.innerText;
  element.innerText="";
  function type(){
    if(index<text.length){
      element.innerText += text[index];
      index++;
      setTimeout(type,20);
    } else {
      if(callback) callback();
    }
  }
  type();
}

/* ---------- Carousel ---------- */
const track = document.getElementById("carouselTrack");
let position = 0;
let slideInterval;
let isDragging=false;
let startX, currentTranslate, prevTranslate;

function startCarousel(){
  const slides = Array.from(track.children);
  slides.forEach((slide,i)=>slide.classList.add("active"));

  let slideWidth = slides[0].offsetWidth + 15; // include gap

  function moveSlide(){
    position += 1;
    if(position > slides.length - 1){
      position = 0;
    }
    track.style.transform = `translateX(${-position * slideWidth}px)`;
  }

  slideInterval = setInterval(moveSlide, 2500);

  // ---------- Drag support ----------
  track.addEventListener("mousedown", dragStart);
  track.addEventListener("touchstart", dragStart);

  track.addEventListener("mousemove", dragMove);
  track.addEventListener("touchmove", dragMove);

  track.addEventListener("mouseup", dragEnd);
  track.addEventListener("mouseleave", dragEnd);
  track.addEventListener("touchend", dragEnd);
  track.addEventListener("touchcancel", dragEnd);
}

/* ---------- Drag functions ---------- */
function dragStart(e){
  isDragging=true;
  clearInterval(slideInterval);
  startX = e.type.includes("mouse") ? e.pageX : e.touches[0].clientX;
  currentTranslate = parseFloat(track.style.transform.replace("translateX(","").replace("px)","")) || 0;
}
function dragMove(e){
  if(!isDragging) return;
  let x = e.type.includes("mouse") ? e.pageX : e.touches[0].clientX;
  let delta = x - startX;
  track.style.transform = `translateX(${currentTranslate + delta}px)`;
}
function dragEnd(e){
  if(!isDragging) return;
  isDragging=false;
  // Restart carousel auto-slide
  startCarousel();
}

</script>
</body>
</html>
